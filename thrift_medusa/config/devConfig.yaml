####            EDIT THIS FILE ####
#
# This is essentially a dummy configuration used for integration testing.  It tries to mimic a 'production'
# server though it is deploying everything to localhost and going through the same code path as a production 
# release.
thrift:
   ##TODO: Constraints Not yet supported
   constraints:
     enforce_empty: true   #fails if required empty is set to false.
     #visibilty_check: true #fails if changing a field from required to anything else
     #check_field_ordering: true
     #check_version_increment: true
   #these values are default options for all compilers.  They can be overridden on individual entries.
   global_compiler_options:
         java: --gen java:private-members,hashcode
         ruby: --gen rb
         js: --gen js
         python: --gen py
         doc: --gen html
   #needs fully qualified path of all support thrift compilers
   compilers:
      # if the same type of compiler is needed, then you should include
      # the version number in the name.  ie.  thrift_0_6_1  or finagle_0.5.0
      # whatever the 'name' is it will be used for the prefix in the artifact
      - name: thrift
        bin:  /usr/local/bin/thrift
        options: ""
        supported_languages: [java, ruby, doc]
        compiler_postfix: ""
        version: 0.6.1
      - name:  thrift_0.9
        bin: /Developer/thrift.git/compiler/cpp/thrift
        options: ""
        supported_languages: [java]
        compiler_postfix: _thrift_0.9
        version: 0.9.1
#      - name:  finagle
#        bin: /Developer/thrift/bin/thrift
#        options: ""
#        supported_languages: [java, ruby]
#      - name: scrooge
#        bin:  /dev/null
#        options: ""
#        supported_languages: [java]

   #constants found inside thrift files.
   thrift: src/main/thrift

documentation:
  sandbox: gen-html
  ##boolean denoting whether to generate / upload thrift documentation or not.
  doc_enabled: true
  ##generate documentation for --local mode.
  doc_local_enabled: true
  ##generate documentation for snapshot
  doc_snapshot: true
  doc_snapshot_postfix: -dev
  ##metal information about the local and remote host.
  documentation_server:
     user: sfaci
     host: localhost
     #absolute path
     remote_path: /home/sfaci/public_html/thriftdoc
     #relative path from your work directory
     local_path: doc

ruby:
   #sandbox is a directory relative to work/ where the .rb files generated by thrift are found.
   # default is gen-rb
   sandbox: gen-rb
   #
   ruby: ruby/lib
   snapshots: False
   destination: gemartifacts
   #prefix must be empty string or a value
   host: http://rubygems.corp.nextag.com:8808/
   author: Build Bot - Automated
   email: buildbot@wizecommerce.com
   scm: http://git.corp.nextag.com/?p=thrift/definitions.git;a=summary
   ssh_server:
      host: localhost
      user: sfaci
      remote_path: /tmp/gems


java:
   include_source: true
   uber_jar: true
   uber_jar_postfix: -shaded
   #this is location where the thrift generate java files will be stored relative to work/ default is
   # gen-java
   sandbox: gen-java
   # this string denotes the prefix it should expect for dev version.
   # If using maven -SNAPSHOT is expected.
   dev_prefix: "-SNAPSHOT"
   java_host: http://localhost/components2
   java_host_all: http://localhost/components
   maven_dir: src/main/java
   maven_deploy_command: mvn install -DskipTests deploy:deploy
   maven_local_deploy: mvn install -DskipTests
   ##TODO: Run generated pom.xml through a beautifier
   poms:
     default:
        file: pom_template.xml
        maven_deployment: <distributionManagement> <repository> <id>IntegrationTest</id><url>scp://sfaci@localhost/var/www/components2</url> <uniqueVersion>true</uniqueVersion> </repository> </distributionManagement>
        maven_scm:  <scm> <connection>scm:git:git://git.corp.nextag.com/services/WIZEID.git</connection> <developerConnection>scm:git:ssh://kato@gerrit.corp.nextag.com:29418/services/WIZEID.git </developerConnection> <url>http://git@git.corp.nextag.com/services/WIZEID.git</url> <tag>${projectid}-${projectVersion}</tag> </scm>
        maven_repos:  <repositories> <repository> <id>wize-nextag-sm</id> <url>http://nexus.corp.nextag.com:8081/content/groups/public/</url>  </repository> </repositories>
        maven_java_source:  <plugin> <groupId>org.apache.maven.plugins</groupId> <artifactId>maven-source-plugin</artifactId> <executions> <execution> <id>attach-sources</id> <goals> <goal>jar</goal> </goals> </execution> </executions> </plugin>
     #if maven_* are omitted then it will fallback on default values
     business_object:
        file: pom_business_object.xml
     service:
        file: pom_service.xml
     shaded:
        file: pom_shaded.xml
        maven_deployment:  <distributionManagement> <repository> <id>IntegrationTest</id> <url>scp://sfaci@localhost/var/www/components</url> <uniqueVersion>true</uniqueVersion> </repository> </distributionManagement>


global:
  ##Conventions/metaData
  company_name: wizecommerce
  service_prefix: services
  object_prefix: bizobj
  enum_prefix: enum
  exception_prefix: exception
  group_id: com.wizecommerce.data
  ##Special version won't be released, but SNAPSHOT will be deployed
  special_version: 0.0.0
  #Modes defines the various modes of operations.  Usually these are synonymous to languages.
  languages:
    java: true
    ruby: false
    js: false
  #when set to true will only run local install, and skip deployment.
  local_install: true
  service_override: null
  # defines the 'work' directory.  Consider this a transient directory since the content will most
  # likely be wiped on each execution.
  work_dir: work
  #Paths defines the location of the thrift files.  Ideally, your bizObjs and serviceObj will be in a
  #seperate directory.
  paths:
    business_object: thrift/business-objects
    service_object: thrift/services
  ## WARNING: this is very very VERY dangerous.  You're basically saying for each thrift file, disregard whatever
  ## is already released and push my current version.  This can be useful when you want to fix a broken behavior
  ## but should be avoided for most cases.
  force_deploy:  false
